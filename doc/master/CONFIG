WIP, needs more

 - Welcome :)


 - Installation:
     echo "deb http://debile.anized.org/archive/ rc-buggy main" | sudo tee /etc/apt/sources.list.d/debile.list
     curl http://debile.anized.org/key.asc | sudo apt-key add -
     sudo apt-get update
     sudo apt-get install debile-master


 - Configuration:
     sudo mkdir -p /srv/debile/incoming/UploadQueue /srv/debile/files/default /srv/debile/repo/default
     sudo chown -R Debian-debile:Debian-debile /srv/debile/
     sudo chmod 0773 /srv/debile/incoming/UploadQueue

     # Edit /etc/debile/master.yaml
     #  - repo_url: "http://<myhostname>/debile/repo/{name}"
     #  - files_url: "http://<myhostname>/debile/files/{name}"

     # Create:

:: /etc/cron.d/debile ::
SHELL=/bin/sh
PATH=/usr/local/bin:/usr/bin:/bin
*/5 * * * * Debian-debile debile-incoming-changes /srv/debile/incoming/UploadQueue
*/5 * * * * Debian-debile debile-incoming-dud /srv/debile/incoming/UploadQueue

     sudo -u Debian-debile /bin/bash
     umask 0077

     # To create a self-signed certificate:
     # (you'll also need to copy master.crt to all slaves/users and set ca_certs: in slave.yaml/user.yaml)
     openssl req -utf8 -nodes -newkey rsa:3072 -sha256 -x509 -keyout /srv/debile/master.key -out /srv/debile/master.crt

     # To create a certificate request for a CA-signed certificate:
     # (you'll also need to concatenate the certificate and CA-chain into /srv/debile/master.crt)
     openssl req -utf8 -nodes -newkey rsa:3072 -sha256 -keyout /srv/debile/master.key -out /srv/debile/master.csr

     # Create a /etc/debile/debile.yaml to seed the debile-master database.
     debile-master-init
     debile-import /etc/debile/debile.yaml

     # For each user/slave added to debile.yaml, add the self-signed ssl certificate and the pgp public key to the approriate keyring:
     cat >>/srv/debile/keyring.pem </path/to/ssl-cert.pem
     gpg --no-default-keyring --keyring /srv/debile/keyring.pgp --import /path/to/public-key.pgp

     cd /srv/debile/repo/default
     mkdir conf logs
     cd conf
     # Create:

:: distributions ::
Origin: Paul Tagliamonte
Label: Debile
Suite: unstable
Codename: unstable
Version: 1.0
Architectures: i386 amd64 armhf source
Components: main
Description: Debile
SignWith: 0x2BF6C8EE
Contents: . .gz .bz2
Log: archive.log

:: incoming ::
Name: default
IncomingDir: incoming
TempDir: tmp
Allow: unstable
Cleanup: on_deny on_error

:: uploaders ::
allow * by unsigned


 - Anonymous FTP:
     apt-get install vsftpd
     edit /etc/vsftpd.conf

listen=YES
anonymous_enable=YES
anon_root=/srv/debile/incoming/
anon_umask=027
write_enable=YES
anon_upload_enable=YES
chown_uploads=YES
chown_username=debile
chroot_local_user=NO

xferlog_enable=YES
xferlog_file=/var/log/ftp/vsftpd-debile.log
vsftpd_log_file=/var/log/ftp/ftp-upload.log

ftpd_banner=Debile incoming queue
secure_chroot_dir=/var/run/vsftpd/empty
pam_service_name=vsftpd
setproctitle_enable=YES
dirmessage_enable=NO
ls_recurse_enable=NO
connect_from_port_20=NO
max_clients=100

     restart vsftpd
