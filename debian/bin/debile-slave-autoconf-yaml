#!/usr/bin/env python
# Copyright (c) Paul R. Tagliamonte <paultag@debian.org>, 2013, under the
# terms and conditions of the Expat license, as noted in the Debile project
# LICENSE file.

import sys
import yaml

bname, fingerprint = sys.argv


with open('/etc/debile/slave.yaml', 'r') as fd:
    info = yaml.load(fd)

info['gpg'] = fingerprint

with open('/etc/debile/slave.yaml', 'w') as fd:
    yaml.dump(info, fd)

print("OpenPGP key set to %s" % (info['gpg']))
